# SSH 连接管理

Termux-X 内置了强大的图形化 SSH 客户端，允许您直接管理和连接远程服务器，支持端口转发、SFTP 文件管理和脚本批量执行。

## 功能入口

在 Termux-X 工具箱中点击 **SSH连接** 图标即可进入管理界面。

![](/img/common/21.jpg)

## 核心功能

### 1. 设备管理
*   **添加/编辑设备**：支持配置 SSH 主机地址、端口、用户名和密码。
*   **连接管理**：保存常用服务器信息，一键快速连接。
![](/img/common/22.jpg)
### 2. 端口转发 (Port Forwarding) 详解

Termux-X 支持三种标准的 SSH 端口转发模式，可用于内网穿透、安全访问内部服务或科学上网。

#### 2.1 本地转发 (Local Forwarding)
**场景**：你需要访问远程服务器内部网络中的某个服务（如数据库、Web后台），但该服务未直接暴露在公网。

**原理**：将手机（本地）的某个端口流量，通过 SSH 隧道转发到远程服务器的目标地址。

**配置示例**：
*   **本地端口**：`8080`
*   **目标主机**：`127.0.0.1` (远程服务器视角)
*   **目标端口**：`3306` (远程数据库)
*   **效果**：访问手机的 `localhost:8080` 等同于访问远程服务器的 `localhost:3306`。

    ```
    [手机应用] --(访问)--> localhost:8080 ==(SSH隧道)>> 远程服务器 --> 127.0.0.1:3306 [数据库]
    ```

#### 2.2 远程转发 (Remote Forwarding)
**场景**：你想让外网用户访问你手机上运行的 Web 服务（内网穿透）。

**原理**：将远程服务器的某个端口流量，通过 SSH 隧道转发回手机（本地）的服务。

    ```
    [外部用户] --(访问)--> 远程IP:9000 ==(SSH隧道)>> 手机(本地) --> localhost:8000 [Web服务]
    ```

**配置示例**：
*   **远程端口**：`9000`
*   **目标主机**：`127.0.0.1` (手机视角)
*   **目标端口**：`8000` (手机 Web 服务)
*   **效果**：访问 `远程服务器IP:9000` 将会请求到你手机上的 `8000` 端口服务。

#### 2.3 动态转发 (Dynamic Forwarding)
**场景**：建立一个加密的 SOCKS5 代理，用于浏览器或其他应用的网络流量代理。

**配置示例**：
*   **本地端口**：`1080`
*   **效果**：在手机 WiFi 设置或浏览器中配置 SOCKS5 代理 `127.0.0.1:1080`，所有流量将通过 SSH 服务器转发。
![](/img/common/23.jpg)
### 3. SFTP 文件管理
内置 SFTP 客户端，提供可视化的文件操作界面：
*   **双栏显示**：左侧显示本地文件，右侧显示远程服务器文件。
*   **文件操作**：支持上传、下载、重命名、删除和修改权限 (Chmod)。
*   **路径导航**：支持面包屑导航和快速跳转。
![](/img/common/24.jpg)
### 4. 密钥管理 (Keychain) 详解
*   **密钥导入**：
    *   点击“导入密钥”按钮。
    *   支持选择本地存储的私钥文件（如 `id_rsa`, `.pem`）。
    *   导入后可设置别名，方便管理。
*   **密钥使用**：
    *   在添加/编辑主机时，认证方式选择“Public Key”。
    *   从列表中选择已导入的密钥，无需每次输入密码即可实现安全登录。

![](/img/common/25.jpg)

### 5. 脚本与工具 (Tools & Scripts)
*   **脚本执行**：
    *   您可以预先编写常用的 Shell 脚本（如服务器状态检查 `htop`、日志查看 `tail -f`）。
    *   在连接状态下，一键将脚本发送到远程服务器执行。
*   **批量操作** (Batch Execution)：
    *   **场景**：需要同时重启 10 台服务器的 Nginx 服务。
    *   **操作**：勾选多台主机 -> 选择脚本 -> 点击执行。Termux-X 会并行执行并聚合显示所有服务器的返回结果。
*   **跳板机 (Jump Host)**：
    *   **场景**：目标服务器位于内网，必须通过一台公网跳板机才能访问。
    *   **配置**：在目标主机的设置中，开启“跳板机”选项，并选择已配置好的跳板机设备。连接时会自动建立多级隧道。

![](/img/common/26.jpg)
