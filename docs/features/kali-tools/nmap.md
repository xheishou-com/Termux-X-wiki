# Nmap 网络扫描

Nmap (Network Mapper) 是一款用于网络发现和安全审计的网络安全工具。

## 功能入口

在 Termux-X 左侧菜单栏的 **Kali Tools** (或渗透测试) 分类下点击 **Nmap** 图标。

![nmap](/img/kali-tools/1.png)

## 功能说明

点击按钮后会弹出 **Nmap 配置对话框** (`NmapDialog`)，主要功能如下：

1.  **自动安装**：如果当前环境未安装 `nmap`，点击扫描时会自动执行 `pkg install nmap -y` 进行安装。
2.  **目标设置**：支持输入 IP 地址或域名。
3.  **高级选项**：
    *   **全方位扫描** (`-sV -sC`)：包含服务版本检测和默认脚本扫描。
    *   **Ping 扫描** (`-sn`)：只进行主机发现，不扫描端口。
    *   **服务版本** (`-sV`)：探测开放端口的服务版本信息。
    *   **跳过主机发现** (`-Pn`)：将所有主机视为在线，跳过 Ping 测试。
    *   **禁用 DNS 解析** (`-n`)：加快扫描速度。
    *   **IPv6 扫描** (`-6`)：启用 IPv6 支持。
    *   **Top Ports** (`--top-ports 20`)：扫描最常用的 20 个端口。
    *   **快速模式** (`-F`)：扫描比默认更少的端口。
    *   **顺序扫描** (`-r`)：不随机打乱端口顺序。
4.  **时序模板**：支持从 **T0 (偏执)** 到 **T5 (疯狂)** 的 6 种速度模式，默认为 **T3 (正常)**。

## 使用示例

### 示例 1：基础扫描
最简单的用法是直接对目标进行扫描，不添加额外参数。

1.  在输入框中输入目标 IP 或域名（例如 `scanme.nmap.org` 或 `192.168.0.1`）。
2.  直接点击绿色的 **扫描** 按钮。
3.  Termux 会自动执行 `nmap scanme.nmap.org` 并显示结果。

### 示例 2：高级/自定义扫描
如果你需要更详细的信息或特定的扫描策略，可以开启 **高级选项**。

![nmap 配置界面](/img/kali-tools/2.png)

如下图所示：
*   **目标**：输入了 `192.168.10.37`，支持同时扫描多个目标（用逗号或空格分隔）。
*   **扫描类型**：
    *   勾选了 **服务版本与脚本扫描 (-sV -sC)**：这将检测开放端口的具体服务版本（如 Apache 2.4.49）并运行默认脚本进行探测。
    *   勾选了 **不解析 DNS (-n)**：在扫描大量 IP 时可以节省 DNS 查询时间。
*   **端口**：
    *   勾选了 **前 20 个端口**：只扫描最常用的 20 个端口，适合快速概览。
*   **时间模板**：选择了 **默认 (T3)**，平衡了速度和准确性。

点击 **扫描** 后，Termux-X 将生成如下命令并执行：
```bash
nmap -sV -sC -n --top-ports 20 -T3 192.168.10.37
```
![nmap 配置界面](/img/kali-tools/3.png)

## 执行方式

配置完成后，Termux-X 会生成对应的 `nmap` 命令并发送到当前的 Termux 终端执行。

![nmap 配置界面](/img/kali-tools/4.png)

> **注意**：此功能使用的是 Termux 原生仓库的 `nmap` 包，运行在标准 Termux 环境中，不需要额外的 Kali 容器支持。
