# 安装模块 (Install Module)

**功能简介**：
"安装模块" 功能允许用户通过加载本地的模块包（通常为压缩包），将特定的文件部署到 Termux 环境中。这通常用于安装自定义的 Linux 发行版、工具集或配置环境，而无需手动执行复杂的解压和拷贝命令。

**工作原理**：
1. **扫描目录**：程序会自动扫描手机存储中的 `/sdcard/xinhao/module` 目录。
2. **解压模块**：选择模块后，程序将其解压到临时目录。
3. **读取配置**：读取模块包内的 `INSTALL.txt` 配置文件，解析安装指令。
4. **部署文件**：根据指令将文件复制到 Termux 的系统目录（如 `/data/data/com.termux/files/` 下的指定位置），并设置相应的执行权限（如 `700`）。
5. **环境配置**：如果包含 `bash.bashrc` 配置，会自动将其追加到启动脚本中。

**使用方法**：
1. **获取模块包**：
   - 你可以点击对话框中的 "下载模块" 链接（指向 `https://od.ixcmstudio.cn/repository/main/module/`）下载官方/社区提供的模块。
   - 或者自行制作/获取模块包（通常是 `.7z` 格式）。
2. **放置文件**：
   - 将下载好的模块包放入手机的 `/sdcard/xinhao/module/` 目录下。
   - 如果目录不存在，请手动创建或运行一次该功能让其自动创建。
3. **打开安装器**：
   - 双击终端屏幕打开工具箱。
   - 点击 **安装模块** 按钮。
3. **选择并安装**：
   - 在弹出的列表中应该能看到你放入的模块包。
   - 点击想要安装的模块。
   - 确认提示（如 "是否切换到安装模式"），然后等待安装脚本执行完毕。
4. **完成**：
   - 安装完成后，根据模块的具体功能，你可能需要重启 Termux 或输入特定命令来启动新安装的工具。

**模块包结构示例**：
一个典型的模块包解压后应包含：
- `INSTALL.txt`: 安装配置文件（定义源文件路径、目标路径、权限）。
- 模块文件目录（例如 `bin/`, `usr/` 等）。

**常见问题**：
- **列表为空**：请检查 `/sdcard/xinhao/module/` 目录下是否有文件，并确保 Termux 拥有存储权限。
- **安装失败**：可能是 `INSTALL.txt` 格式错误或目标路径无法写入。
